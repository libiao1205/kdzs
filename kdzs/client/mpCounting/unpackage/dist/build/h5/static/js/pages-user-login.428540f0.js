(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-login"],{"67dd":function(e,n,t){"use strict";t.r(n);var o=t("74d1"),i=t("cb41");for(var a in i)"default"!==a&&function(e){t.d(n,e,function(){return i[e]})}(a);var s,r=t("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"373b044b",null,!1,o["a"],s);n["default"]=u.exports},"74d1":function(e,n,t){"use strict";var o,i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",{staticClass:"content"},[t("v-uni-view",{staticClass:"fx-t"},[t("v-uni-view",{staticClass:"fx-t-v-h mr-s"},[t("v-uni-image",{staticClass:"logo-title-img",attrs:{src:"../../static/img/logo.png"}})],1),t("v-uni-view",{staticClass:"pd-s fx-t-v-h "},[t("v-uni-view",{staticClass:"line50 w-100 bd-b-1 fx-t-v-h"},[t("v-uni-input",{staticClass:"uni-input w-100",attrs:{type:"number",placeholder:"请输入手机号","placeholder-style":"color: #969696;"},model:{value:e.phoneNumber,callback:function(n){e.phoneNumber=n},expression:"phoneNumber"}})],1),t("v-uni-view",{staticClass:"line50 w-100 bd-b-1 fx-t-v-h"},[t("v-uni-input",{staticClass:"uni-input w-100",attrs:{placeholder:"请输入密码",password:"true","placeholder-style":"color: #969696;"},model:{value:e.password,callback:function(n){e.password=n},expression:"password"}})],1),t("v-uni-button",{staticClass:"primary w-100 line45 mr-t-s",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.loginByUsername.apply(void 0,arguments)}}},[e._v("登 录")])],1),t("v-uni-view",{staticClass:"fx-t-v-h"},[t("v-uni-button",{staticClass:"fx-t-v-h noBorder",attrs:{"open-type":"getPhoneNumber"},on:{getphonenumber:function(n){arguments[0]=n=e.$handleEvent(n),e.getPhoneNumber.apply(void 0,arguments)}}},[t("v-uni-image",{staticClass:"small-icon",attrs:{src:"../../static/img/wechat.png"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.toAuthorize.apply(void 0,arguments)}}})],1)],1)],1)],1)},a=[];t.d(n,"b",function(){return i}),t.d(n,"c",function(){return a}),t.d(n,"a",function(){return o})},"92d4":function(e,n,t){"use strict";var o=t("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o(t("cebc")),a=t("2f62"),s={components:{},onLoad:function(){},onShow:function(){},computed:(0,i.default)({},(0,a.mapGetters)({isPermissionCode:"constant/isPermissionCode"})),data:function(){return{phoneNumber:"",password:""}},methods:(0,i.default)({},(0,a.mapActions)({registerPhone:"auth/registerPhone",loginUserName:"auth/loginUserName",loadPermissionCode:"page/loadPermissionCode",loadCurrSeason:"page/loadCurrSeason",loadSchoolAll:"page/loadSchoolAll",loadSchoolOne:"page/loadSchoolOne"}),{getPhoneNumber:function(e){if(e.detail.encryptedData){var n={iv:e.detail.iv,encryptedData:e.detail.encryptedData,mpType:"COUNTING"};this.registerPhone(n).then(function(e){e&&uni.reLaunch({url:"../recruit/counting/home"})})}},loginByUsername:function(){var e=this,n={username:this.phoneNumber,password:this.password};this.loginUserName(n).then(function(n){n&&e.loadPermissionCode().then(function(n){e.loadCurrSeason().then(function(n){e.isPermissionCode("add")&&!e.isPermissionCode("view")&&e.loadSchoolOne().then(function(e){uni.reLaunch({url:"../recruit/counting/home"})}),e.isPermissionCode("view")&&e.loadSchoolAll().then(function(e){uni.reLaunch({url:"../recruit/counting/home"})})})})})}})};n.default=s},cb41:function(e,n,t){"use strict";t.r(n);var o=t("92d4"),i=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,function(){return o[e]})}(a);n["default"]=i.a}}]);